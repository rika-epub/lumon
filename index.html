<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waffle Party Invitation Generator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        
        body {
            font-family: 'Orbitron', sans-serif;
            background: url('https://www.travelandleisure.com/thmb/Y04cS-97oOjbp0u0edCNZfcqemI=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/TAL-header-severance-still-bell-works-aerial-VISITSEVERANCE0325-a6ab179e941a4e78b9cdeaff3b8ef4f4.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            text-align: center;
            padding: 30px;
        }
        .invitation {
            background: black;
            padding: 15px;
            border-radius: 10px;
            margin: 20px auto;
            display: inline-block;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
            position: relative;
            width: 300px;
            text-align: center;
            border: 2px solid #fff;
        }
        .logo {
            width: 80px;
            height: auto;
            display: block;
            margin: 10px auto;
        }
        button {
            background: #005ea2; /* Lumon Blue */
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            border: none;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            border-radius: 5px;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
            transition: background 0.3s ease, transform 0.2s ease;
            margin: 5px;
        }
        button:hover {
            background: #00427a;
            transform: scale(1.05);
        }
        .input-group {
            justify-content: center;
            gap: 10px;
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 8px;
        }
        .fold-line {
            border-top: 2px dashed #fff;
            margin: 10px 0;
        }
        #audioPlayer {
            width: 0;
            height: 0;
            opacity: 0;
            position: absolute;
        }
        
    </style>
</head>
<body>
    <h1>Waffle Party Invitation Generator</h1>

    <div class="input-group">
        To whom: <input type="text" id="name" placeholder="Invitee"><br><br>
        To what:<input type="text" id="event" placeholder="Event"><br><br>
        Where<input type="text" id="place" placeholder="Place"><br><br>
    </div>

    <div class="input-group">
        When: <input type="date" id="date"><br>
        <input type="time" id="time">
    </div>

    <br>
    <button onclick="generateInvitation()">Generate</button>
    <button id="downloadBtn" onclick="downloadInvitation()" disabled>Download</button>
    <button onclick="shareInvitation()">Share</button>

    <div id="invitation" class="invitation" style="display:none;"></div>

    <canvas id="canvas" style="display:none;"></canvas>

    <script>
        function generateInvitation() {
            const name = document.getElementById("name").value || "Seeker";
            const event = document.getElementById("event").value || "Waffle Party";
            const place = document.getElementById("place").value || "Designated Location";
            const date = document.getElementById("date").value || "At the chosen date";
            const time = document.getElementById("time").value || "At the appointed hour";
            
            const greetings = ["Blessed be Kier.", "To thine own self be true.", "Behold the feast.", "Come forth, seeker."];
            const instructions = ["Come hungry. Leave changed.", "Dance with purpose.", "Feast, for the hour is near.", "Loyalty is rewarded in syrup."];
            const signatures = ["With reverence, Milchick.", "In Kierâ€™s Light, Harmony.", "Your guide, Cobel.", "Sincerely, Your Outie."];

            const greeting = greetings[Math.floor(Math.random() * greetings.length)];
            const instruction = instructions[Math.floor(Math.random() * instructions.length)];
            const signature = signatures[Math.floor(Math.random() * signatures.length)];

            const invitationText = `<p><strong>Waffle Party: The tradition lives on.</strong></p>
                                    <p>${greeting}</p>
                                    <p><strong>${name}</strong>, you are invited to <strong>${event}</strong> at <strong>${place}</strong> on <strong>${date}</strong> at <strong>${time}</strong>.</p>
                                    <p>${instruction}</p>
                                    <p><em>${signature}</em></p>                                    <div class='fold-line'></div>
                                    <img src='https://cdn.mos.cms.futurecdn.net/S9ERoJDeKAc6P2vHqiFW6X.jpg' class='logo' alt='Lumon Logo'>`;

            const invitationElement = document.getElementById("invitation");
            invitationElement.innerHTML = invitationText;
            invitationElement.style.display = "block";
            invitationElement.style.opacity = "1";
            invitationElement.style.transform = "translateY(0)";

            document.getElementById("downloadBtn").disabled = false;
        }

        function downloadInvitation() {
            const invitationElement = document.getElementById("invitation");
            html2canvas(invitationElement).then(canvas => {
                const link = document.createElement("a");
                link.href = canvas.toDataURL("image/png");
                link.download = "waffle_party_invite.png";
                link.click();
            });
        }

        function shareInvitation() {
            if (navigator.share) {
                navigator.share({
                    title: "Waffle Party Invitation",
                    text: "Join me at the Waffle Party!",
                    url: window.location.href
                }).catch(err => console.log("Sharing failed:", err));
            } else {
                alert("Sharing not supported on this device.");
            }
        }
    </script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <h3>Do it, Seth!</h3>
    <iframe style="border-radius:12px" 
        src="https://open.spotify.com/embed/track/2dssT0G1eXmqLoNIzKEuxN?utm_source=generator" 
        width="300" height="80" frameBorder="0" 
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
    </iframe>
</body>
</html>
